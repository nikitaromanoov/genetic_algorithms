# Лабораторная работа №2 Введение в эволюционные вычисления
## Цель работы
Целью данной лабораторной работы является получение студентом представления об возможностях применения эволюционных алгоритмов для решения различных классов задач и программных средств для их разработки.
## Оборудование и программное обеспечение
Для выполнения лабораторной работы потребуется:
* браузер с доступом к сети Интернет
* Java JDK версии 1.8 и выше
* Watchmaker framework  версии 0.7.1
## Ход работы

Откроем среду разработки  IntelijIDEA и создадим проект  Watchmaker:

![image](https://user-images.githubusercontent.com/91135334/219938722-a94b2454-d475-412c-b7a5-7ae9de3cf41e.png)

### Bit count

Здесь решается задача подсчета количества битов в строке заданной длины(параметр BITS). 

*Вопрос: Определите и выпишите, какой структурой данных и в каком виде закодированы решения в данной реализации примера?*
*Ответ: BitString - реализация битовой строки фиксированной длины. Внутренне биты упаковываются в массив целых чисел. Эта реализация позволяет более эффективно использовать пространство, чем альтернативный подход, заключающийся в использовании массива логических значений. Этот класс предпочтительнее BitSet, если требуется фиксированное количество битов.*

Запустим программу несколько раз и заполним значения количеств итераций, которые были необходимы для решения проблемы при различном параметре  BITS. 

![image](https://user-images.githubusercontent.com/91135334/219969169-ab3250d5-0ba1-479e-bd3e-534c0f85af1d.png)

Заметим, что с увеличением  размерности длины строки, в которой осуществляется  подсчет, значительно увеличивается среднее количество итераций, требующихся для нахождения оптимального решения.

###  Traveling salesman problem

Здесь решается задача коммивояжёра, цель которой - это поиск кратчайшего пути, проходящего через все заданные точки (города). Основная предпосылка проблемы коммивояжера заключается в том, что есть коммивояжер, который должен посетить множество городов. Он должен посетить каждый город ровно один раз и должен вернуться в свой исходный город. Проблема в том, чтобы найти кратчайший маршрут. Это не так просто, как может показаться, потому что количество возможных маршрутов увеличивается пропорционально количеству городов.

Попробуем поварьировать параметры алгоритма для анализа их влияния на его производительность.

![image](https://user-images.githubusercontent.com/91135334/219973869-9f170c45-aea3-40b8-89e5-64677f389698.png)

Сделаем выводы по некоторым параметрам. 

Population size. Мы можем использовать популяцию любого размера, которую выберем. Типичные размеры популяции эволюционного алгоритма могут варьироваться от десятков до тысяч особей. Заметим, что чем больше размер популяции, тем больше требуется времени, но также с таком случае чаще выдается более хорошие решения.

Elitism. Иногда хорошие кандидаты могут быть потеряны, когда скрещивание или мутация приводят к появлению потомства, которое слабее родителей. Часто эволюционные алгоритм повторно обнаруживает эти утраченные улучшения в следующем поколении, но гарантии нет. Чтобы бороться с этим, мы можем использовать особенность, известную как элитарность. Элитизм предполагает копирование небольшого числа наиболее подходящих кандидатов, без изменений, в следующее поколение. Иногда это может оказать существенное влияние на производительность, гарантируя, что  не будет тратится время на повторное обнаружение ранее отброшенных частичных решений. Это действительно видно в данных, полученных из эксперимента, чем больше  elitism, тем меньше среднее время. Также видно, что при маленьком значении данного параметра мы получаем явно не самые лучшие значения оптимального решения. 

Number of generations. Количество поколений также влияет на результат, с ростом этого параметра увеличивается время поиска решений, но и результаты получаются лучше. 

### Mona Lisa
 
Здесь делается попытка найти комбинацию из 50 полупрозрачных многоугольников, которая наиболее сильно напоминает "Мону Лизу" Леонардо да Винчи. Эта реализация использует совокупность решений-кандидатов и применяет кросс-овер, а также различные типы мутаций. Эволюция остановится, если в течение 1000 поколений не будет наблюдаться улучшения (пример условия прекращения застоя в действии). Это  продолжаться часами

Заметим, что фитнес-фукнция и субьективная оценка качества изображения лучше тогда, чем большее количество итераций пройдено и чем больше полигонов и углов реализовано. 

![image](https://user-images.githubusercontent.com/91135334/220098205-d522d738-9a45-4fef-ba35-3ec6fce84eee.png)


![image](https://user-images.githubusercontent.com/91135334/220097841-fd55bddd-bb11-46a2-9900-b4f1643085fd.png)
![image](https://user-images.githubusercontent.com/91135334/220097791-0adefc22-3394-488a-8b2b-bf526ec08f4a.png)
![image](https://user-images.githubusercontent.com/91135334/220097678-35dedab7-ffce-4b94-8295-d3a2de80214d.png)

Заметим, что фитнес-фукнция и субьективная оценка качества изображения лучше тогда, чем большее количество итераций пройдено и чем больше полигонов и углов реализовано. 

### Вопросы

1. К какому типу по структуре решений относится каждая из рассмотренных задач?
Поскольку структура решений должна быть спроектирована таким образом, чтобы генотип решения мог быть раскодирован максимально однозначно в решение поставленной задачи,а также был удобен для реализации эволюционных операторов и позволял осуществлять полноценный поиск по пространству решений без усложнения размерности задачи, то для каждой задачи нужно подобрать свою структуру решений.  Bit count - бинарный(0 и 1), Travelling salesman problem - древовидная(города), Mona Lisa - вещественнозначные (полигоны, координаты, углы). 

2. Как закодированы решения в задаче коммивояжера?

Поскольку эволюционные операторы - это оператор мутации, который изменяет порядок городов в маршруте, и оператор упорядоченного пересечения, который объединяет различные маршруты вместе, не дублируя и не пропуская ни одного города, а функция fitness просто вычисляет общую протяженность маршрута (в километрах), то решения закодированы в качестве последовательности городов, которые необходимо посетить в заданном порядке. 

3. Что является генотипом, а что фенотипом в задаче воспроизведения картины?

Набор полупрозрачных многоугольников -  генотип, сама картина - фенотип.
